<template>
  <section>
    <h2>Equipment</h2>
    <h4>Weight: ${totalWeight} lbs.</h4>
    <hr>
    <h2>Weapons</h2>
    <ul class="accordion css-accordion">
      <li class="accordion-item" repeat.for="weapon of loadedCharacter.weapons">
        <input class="accordion-item-input" type="checkbox" name="accordion" id.bind="weapon.name" />
        <label if.bind="weapon.weaponBonus" for.bind="weapon.name" class="accordion-item-hd">${weapon.name} ${weapon.weaponBonus}<span class="accordion-item-hd-cta">&#9650;</span></label>
        <label if.bind="weapon.isMasterwork && !weapon.weaponBonus" for.bind="weapon.name" class="accordion-item-hd">${weapon.name} (mw)<span class="accordion-item-hd-cta">&#9650;</span></label>
        <label if.bind="!weapon.isMasterwork" for.bind="weapon.name" class="accordion-item-hd">${weapon.name}<span class="accordion-item-hd-cta">&#9650;</span></label>
        <div class="accordion-item-bd">
          <p>
            <strong>Damage: </strong>${weapon.damage}
          </p>
          <p>
            <strong>Critical: </strong>${weapon.crit}
          </p>
          <p>
            <strong>Weight: </strong>${weapon.weight} lbs.
            <strong>Value: </strong>${weapon.value} gp
          </p>
          <p if.bind="weapon.material">
          <div class="panel-group" role="tablist" aria-multiselectable="true">
            <div class="panel panel-default">
              <div class="panel-heading" role="tab">
                <h4 class="panel-title">
                  <a role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="true">
                    <label>${weapon.material.name}</label>
                  </a>
                </h4>
              </div>
              <div class="panel-collapse collapse in" role="tabpanel">
                <div class="panel-body">
                  <p>
                    <strong>HP/IN: </strong>${weapon.material.hpIn}<br>
                    <strong>Hardness: </strong>${weapon.material.hardness}
                  </p>
                  <p>
                    ${weapon.material.description}
                  </p>
                </div>
              </div>
            </div>
          </div>
          </p>
          <ul class="accordion css-accordion">
            <li class="accordion-item" repeat.for="enchantment of weapon.enchantments">
              <input class="accordion-item-input" type="checkbox" name="accordion" id.bind="enchantment.name" />
              <label for.bind="enchantment.name" class="accordion-item-hd">${enchantment.name}<span class="accordion-item-hd-cta">&#9650;</span></label>
              <div class="accordion-item-bd">
                <p>
                  <strong>Aura: </strong>${enchantment.aura}
                </p>
                <p>
                  ${enchantment.description}
                </p>
              </div>
            </li>
          </ul>
        </div>
      </li>
    </ul>
    <hr>
    <h2>Armor</h2>
    <div class="panel-group" role="tablist" aria-multiselectable="true" if.bind="loadedCharacter.armor.name">
      <div class="panel panel-default">
        <div class="panel-heading" role="tab">
          <h4 class="panel-title">
            <a role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="true">
              <label if.bind="armor.armorBonus">${armor.name} ${armor.armorBonus}</label>
              <label if.bind="armor.isMasterwork && !armor.armorBonus">${armor.name} (mw)</label>
              <label if.bind="!armor.isMasterwork">${armor.name}</label>
            </a>
          </h4>
        </div>
        <div class="panel-collapse collapse in" role="tabpanel">
          <div class="panel-body">
            <p>
              <strong>AC: </strong>${armor.ac}<br>
              <strong>Max Dex Bonus: </strong>${armor.maxDexBonus}<br>
              <strong>Armor Check Penalty: </strong>${armor.armorCheckPenalty}<br>
              <strong>Arcane Spell Failure Chance: </strong>${armor.arcaneSpellFailureChance}%<br>
              <strong>Speed: </strong>${armor.speed}
            </p>
            <p>
              <strong>Weight: </strong>${armor.weight} lbs.
              <strong>Value: </strong>${armor.value} gp
            </p>
            <p if.bind="armor.material">
              <div class="panel-group" role="tablist" aria-multiselectable="true">
                <div class="panel panel-default">
                  <div class="panel-heading" role="tab">
                    <h4 class="panel-title">
                      <a role="button" data-toggle="collapse" data-parent="#accordion" aria-expanded="true">
                        <label>${armor.material.name}</label>
                      </a>
                    </h4>
                  </div>
                  <div class="panel-collapse collapse in" role="tabpanel">
                    <div class="panel-body">
                      <p>
                        <strong>HP/IN: </strong>${armor.material.hpIn}<br>
                        <strong>Hardness: </strong>${armor.material.hardness}
                      </p>
                      <p>
                        ${armor.material.description}
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </p>
            <ul class="accordion css-accordion">
              <li class="accordion-item" repeat.for="enchantment of armor.enchantments">
                <input class="accordion-item-input" type="checkbox" name="accordion" id.bind="enchantment.name" />
                <label for.bind="enchantment.name" class="accordion-item-hd">${enchantment.name}<span class="accordion-item-hd-cta">&#9650;</span></label>
                <div class="accordion-item-bd">
                  <p>
                    <strong>Aura: </strong>${enchantment.aura}
                  </p>
                  <p>
                    ${enchantment.description}
                  </p>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    <hr>
    <h2>Wondrous Items</h2>
    <ul class="accordion css-accordion">
      <li class="accordion-item" repeat.for="item of loadedCharacter.wondrousItems">
        <input class="accordion-item-input" type="checkbox" name="accordion" id.bind="item.name" />
        <label for.bind="item.name" if.bind="item.name" class="accordion-item-hd">${item.slot} - ${item.name}<span class="accordion-item-hd-cta">&#9650;</span></label>
        <label for.bind="item.name" if.bind="!item.name" class="accordion-item-hd">${item.slot}<span class="accordion-item-hd-cta">&#9650;</span></label>
        <div class="accordion-item-bd">
          <p>
            ${item.description}
          </p>
          <p>
            <strong>Weight: </strong>${item.weight} lbs.
            <strong>Value: </strong>${item.value} gp
          </p>
          <p>
            <strong>Aura: </strong>${item.aura}
          </p>
        </div>
      </li>
    </ul>
    <hr>
    <h2>Rings</h2>
    <ul class="accordion css-accordion">
      <li class="accordion-item" repeat.for="ring of loadedCharacter.rings">
        <input class="accordion-item-input" type="checkbox" name="accordion" id.bind="ring.name" />
        <label for.bind="ring.name" class="accordion-item-hd">${ring.name}<span class="accordion-item-hd-cta">&#9650;</span></label>
        <div class="accordion-item-bd">
          <p>
            <strong>Aura: </strong>${ring.aura}
          </p>
          <p>
            <strong>Value: </strong>${ring.value}
          </p>
          <p>
            ${ring.description}
          </p>
        </div>
      </li>
    </ul>
  </section>
</template>
